<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js" ></script> 
        <meta charset="utf-8">
        <title>US Quiz</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script>
            $(document).ready(function(){
                
                //Globals
                var score = 100;
                
                //event Listeners
                $("button").on("click", spinMachine);
                
                //functions
                
                function spinMachine() {
                    
                    var bet = $("bet").val();
                    score -= bet;
                    
                    function displayImage(index) {
                        if (index === 1) {
                            return 'images/bar.png';
                        }
                        if (index === 2) {
                            return 'images/7.png'
                        }
                        if (index === 3) {
                            return 'images/cherry.png'
                        }
                    }
                
              
                    //Slot 1
                    var ranNum = 1 + Math.floor(Math.random() * 3);
                    $("#slot1").fadeOut('fast', function() {
                    $('#slot1').attr('src', displayImage(ranNum));
                    $("#slot1").delay(200).fadeIn();
                    });
                    //Slot 2
                    var ranNum2 = 1 + Math.floor(Math.random() * 3);
                    $("#slot2").fadeOut('fast', function() {
                    $('#slot2').attr('src', displayImage(ranNum2));
                    $("#slot2").delay(600).fadeIn();
                    });
                    //Slot 3
                    var ranNum3 = 1 + Math.floor(Math.random() * 3);
                    $("#slot3").fadeOut('fast', function() {
                    $('#slot3').attr('src', displayImage(ranNum3));
                    $("#slot3").delay(1000).fadeIn();
                    });
                    
                    if (ranNum1 == ranNum2 == ranNum3) {
                        if(ranNum1 == 1) {
                            score += (2 * bet);
                        }
                        if(ranNum1 == 2) {
                            score += (6 * bet);
                        }
                        if(ranNum1 == 3) {
                            score += (4 * bet);
                        }
                    }
                
                    $("#totalScore").html(`Total Points: ${score}`);
                    
                }
            })//ready
        </script>
    </head>
    <body class="text-center">
        
        <h1 class="jumbotron"> Time For A Gambling Addiction! </h1>
        
        <h3></span>How much do you want to bet?</h3>
        <input type="text" id="bet">
        <button class="btn btn-outline-success"> Spin!</button>
        <br></br>
        
        <img src="images/7.png" alt="7" class="slots" id="slot1">
        <img src="images/7.png" alt="7" class="slots" id="slot2">
        <img src="images/7.png" alt="7" class="slots" id="slot3">
        <br></br>
        
        <h2 id="totalScore" class="text-info"></h2>
        
    </body>
</html>